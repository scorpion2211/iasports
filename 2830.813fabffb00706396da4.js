(self.webpackChunkMiLocal=self.webpackChunkMiLocal||[]).push([[2830],{2830:(e,n,t)=>{"use strict";t.r(n),t.d(n,{SchedulePageModule:()=>q});var i=t(8583),o=t(665),s=t(3083),a=t(7338),r=t(4762),c=t(205),d=t(5304),u=t(8259),l=t.n(u),g=t(639),h=t(7019),m=t(2382),_=t(752),p=t(5167);function Z(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-row"),g.TgZ(1,"ion-col",9),g.TgZ(2,"ion-label"),g.TgZ(3,"b"),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"ion-col",2),g.TgZ(6,"ion-row"),g.TgZ(7,"ion-col",10),g.TgZ(8,"ion-checkbox",11),g.NdJ("ngModelChange",function(n){return g.CHM(e).$implicit.times.uno=n}),g.qZA(),g.qZA(),g.TgZ(9,"ion-col",12),g.TgZ(10,"ion-checkbox",13),g.NdJ("ngModelChange",function(n){return g.CHM(e).$implicit.times.dos=n}),g.qZA(),g.qZA(),g.TgZ(11,"ion-col",14),g.TgZ(12,"ion-checkbox",15),g.NdJ("ngModelChange",function(n){return g.CHM(e).$implicit.times.tres=n}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=n.$implicit;g.xp6(4),g.Oqu(e.day),g.xp6(4),g.Q6J("ngModel",e.times.uno),g.xp6(2),g.Q6J("ngModel",e.times.dos),g.xp6(2),g.Q6J("ngModel",e.times.tres)}}const f=[{path:"",component:(()=>{class e{constructor(e,n,t,i){this.subjects=e,this.gets=n,this.post=t,this.loadingCtrl=i,this.schedule=[{day:"lunes",times:{uno:!1,dos:!1,tres:!1}},{day:"martes",times:{uno:!1,dos:!1,tres:!1}},{day:"mi\xe9rcoles",times:{uno:!1,dos:!1,tres:!1}},{day:"jueves",times:{uno:!1,dos:!1,tres:!1}},{day:"viernes",times:{uno:!1,dos:!1,tres:!1}},{day:"s\xe1bado",times:{uno:!1,dos:!1,tres:!1}},{day:"domingo",times:{uno:!1,dos:!1,tres:!1}}],this.userData=null,this.setTurns={uno:!1,dos:!1,tres:!1};const o=JSON.parse(atob(localStorage.getItem("user")));this.getUserSchedule(o.id_user)}ngOnInit(){}setFullTurn(e){this.setTurns[e]=!this.setTurns[e],this.schedule.forEach(n=>{n.times[e]=this.setTurns[e]})}getUserSchedule(e){return(0,r.mG)(this,void 0,void 0,function*(){const n=yield this.loadingCtrl.create({message:"Loading...",duration:0,cssClass:"custom-loading"});n.present(),this.gets.GetData("getUserLog","",e).pipe((0,d.K)(e=>(l().fire({icon:"error",title:"Ocurri\xf3 un error inesperado",text:"Por favor recargue la p\xe1gina"}),(0,c._)("error")))).subscribe(e=>{var t,i,o;if(n.dismiss(),e){const n=Object.assign(Object.assign({},e),{schedule:JSON.parse(e.schedule),id_user:parseInt(e.id_user,10),country_id:parseInt(null!==(t=e.country_id)&&void 0!==t?t:"-2",10),province_id:parseInt(null!==(i=e.province_id)&&void 0!==i?i:"-2",10),city_id:parseInt(null!==(o=e.city_id)&&void 0!==o?o:"-2",10),expose_phone:"1"===e.expose_phone,expose_email:"1"===e.expose_email,token:localStorage.getItem("token")});return this.userData=n,this.reLoadSchedule(),void this.subjects.user$.next(n)}l().fire({icon:"error",title:"Error al obtener datos"})})})}reLoadSchedule(){this.userData.schedule.forEach((e,n)=>{this.schedule[n].times.uno=e.times.uno,this.schedule[n].times.dos=e.times.dos,this.schedule[n].times.tres=e.times.tres})}Cancel(){this.reLoadSchedule()}sendData(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.loadingCtrl.create({message:"Loading...",duration:0,cssClass:"custom-loading"});e.present(),this.post.saveSchedule(this.schedule,this.userData.id_user).subscribe(n=>{console.log(n),this.getUserSchedule(this.userData.id_user),e.dismiss()})})}}return e.\u0275fac=function(n){return new(n||e)(g.Y36(h.n),g.Y36(m.o),g.Y36(_.P),g.Y36(s.HT))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-schedule"]],decls:33,vars:1,consts:[[1,"principal-container"],["size","4"],["size","8"],["size","4",1,"animate__animated","animate__jackInTheBox","animate__delay-ia-4",3,"click"],[1,"horario"],[4,"ngFor","ngForOf"],[1,"ion-margin-top"],["color","primary","expand","block",1,"animate__animated","animate__lightSpeedInLeft",3,"click"],["color","dark","expand","block",1,"animate__animated","animate__lightSpeedInRight",3,"click"],["size","4",1,"animate__animated","animate__bounceInLeft","animate__delay-ia-0"],["size","4",1,"animate__animated","animate__bounceInRight","animate__delay-ia-0"],["mode","ios","color","primary",3,"ngModel","ngModelChange"],["size","4",1,"animate__animated","animate__bounceInRight","animate__delay-ia-1"],["mode","ios","color","warning",3,"ngModel","ngModelChange"],["size","4",1,"animate__animated","animate__bounceInRight","animate__delay-ia-2"],["mode","ios","color","dark",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(g.TgZ(0,"ion-content"),g._UZ(1,"app-background"),g.TgZ(2,"ion-list",0),g.TgZ(3,"ion-row"),g._UZ(4,"ion-col",1),g.TgZ(5,"ion-col",2),g.TgZ(6,"ion-row"),g.TgZ(7,"ion-col",3),g.NdJ("click",function(){return n.setFullTurn("uno")}),g.TgZ(8,"b"),g._uU(9,"Ma\xf1ana"),g.qZA(),g._UZ(10,"br"),g.TgZ(11,"span",4),g._uU(12,"(7hs - 13hs)"),g.qZA(),g.qZA(),g.TgZ(13,"ion-col",3),g.NdJ("click",function(){return n.setFullTurn("dos")}),g.TgZ(14,"b"),g._uU(15,"Tarde"),g.qZA(),g._UZ(16,"br"),g.TgZ(17,"span",4),g._uU(18,"(13hs - 19hs)"),g.qZA(),g.qZA(),g.TgZ(19,"ion-col",3),g.NdJ("click",function(){return n.setFullTurn("tres")}),g.TgZ(20,"b"),g._uU(21,"Noche"),g.qZA(),g._UZ(22,"br"),g.TgZ(23,"span",4),g._uU(24,"(19hs - 00hs)"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(25,Z,13,4,"ion-row",5),g.TgZ(26,"ion-row",6),g.TgZ(27,"ion-col"),g.TgZ(28,"ion-button",7),g.NdJ("click",function(){return n.sendData()}),g._uU(29,"Guardar"),g.qZA(),g.qZA(),g.TgZ(30,"ion-col"),g.TgZ(31,"ion-button",8),g.NdJ("click",function(){return n.Cancel()}),g._uU(32,"Cancelar"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(25),g.Q6J("ngForOf",n.schedule))},directives:[s.W2,p.S,s.q_,s.Nd,s.wI,i.sg,s.YG,s.Q$,s.nz,s.w,o.JJ,o.On],styles:["ion-row[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:center;cursor:pointer}ion-label[_ngcontent-%COMP%]{text-transform:capitalize}ion-list[_ngcontent-%COMP%]{background:#ffffffb3;border-radius:10px;background-size:cover}ion-list[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:20px auto auto}.horario[_ngcontent-%COMP%]{font-size:13px}@media (min-width: 768px){.horario[_ngcontent-%COMP%]{font-size:16px}ion-list[_ngcontent-%COMP%]{max-width:600px;padding:10px 30px;height:540px;margin:100px auto auto}}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[a.Bz.forChild(f)],a.Bz]}),e})();var b=t(5642);let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.ez,o.u5,s.Pc,T,b.K]]}),e})()}}]);