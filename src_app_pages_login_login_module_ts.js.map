{"version":3,"sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_pages_login_login_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule,\n    RouterModule,\n  ],\n  declarations: [LoginPage],\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { PostsService } from 'src/app/services/posts.service';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { catchError } from 'rxjs/operators';\nimport Swal from 'sweetalert2';\nimport { IRequestResponse } from 'src/app/models/response.model';\nimport { IUsers } from 'src/app/models/users.model';\nimport { SubjectsService } from 'src/app/services/subjects';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  public showPasswordIcon = 'eye-off-outline';\n  public passwordInputType = 'password';\n  loginForm: FormGroup = this.formBuilder.group({\n    username: ['', Validators.required],\n    password: ['', Validators.required],\n  });\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private postServices: PostsService,\n    private subjects: SubjectsService,\n    private navCtrl: NavController,\n    private loadingCtrl: LoadingController\n  ) {}\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required],\n    });\n  }\n\n  async onSubmit() {\n    if (!this.loginForm.valid) {\n      Swal.fire({\n        icon: 'info',\n        title: 'Complete usuario y clave',\n        text: 'El usuario puede ser su correo o número de celular',\n      });\n      return;\n    }\n    const loading = await this.loadingCtrl.create({\n      message: 'Loading...',\n      duration: 0,\n      cssClass: 'custom-loading',\n    });\n\n    loading.present();\n    this.postServices\n      .initSession(\n        this.loginForm.get('username').value,\n        this.loginForm.get('password').value\n      )\n      .pipe(\n        catchError((error) => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Error del servidor',\n          });\n          loading.dismiss();\n          throw { ...error };\n        })\n      )\n      .subscribe((response: IRequestResponse<IUsers>) => {\n        loading.dismiss();\n        if (!response.result) {\n          Swal.fire({\n            icon: 'warning',\n            title: 'Datos incorrectos',\n            text: response.message,\n          });\n          return;\n        }\n\n        this.subjects.user$.next(response.data);\n\n        const sessionEncrypted = btoa(JSON.stringify(response.data));\n        localStorage.setItem('token', sessionEncrypted);\n        this.navCtrl.navigateForward('/home/schedule');\n      });\n  }\n\n  forgotPassword() {\n    Swal.fire({\n      icon: 'warning',\n      title: 'NO DISPONIBLE',\n      text: 'Me encuentro trabajando en el despacho de correos, si necesitas una nueva clave, por favor contactete con el administrador',\n    });\n    /* Swal.fire({\n      title: 'Coloque su usuario',\n      input: 'text',\n      inputAttributes: {\n        autocapitalize: 'off',\n      },\n      showCancelButton: true,\n      confirmButtonText: 'Look up',\n      showLoaderOnConfirm: true,\n      preConfirm: (login) => {\n        return fetch(`//api.github.com/users/${login}`)\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(response.statusText);\n            }\n            return response.json();\n          })\n          .catch((error) => {\n            Swal.showValidationMessage(`Request failed: ${error}`);\n          });\n      },\n      allowOutsideClick: () => !Swal.isLoading(),\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Swal.fire({\n          title: `${result.value.login}'s avatar`,\n          imageUrl: result.value.avatar_url,\n        });\n      }\n    }); */\n  }\n\n  public showPassword(): void {\n    if (this.passwordInputType === 'password') {\n      this.passwordInputType = 'text';\n      this.showPasswordIcon = 'eye-outline';\n      return;\n    }\n    this.passwordInputType = 'password';\n    this.showPasswordIcon = 'eye-off-outline';\n    return;\n  }\n}\n","export default \".container {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n  background-image: url(\\\"/assets/img/b1.jpg\\\");\\n  background-size: cover;\\n  background-position: center;\\n}\\n\\n.login-card {\\n  width: 90%;\\n  max-width: 500px;\\n  background-color: rgba(255, 255, 255, 0.7);\\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);\\n  border-radius: 10px;\\n  padding: 20px;\\n  text-align: center;\\n}\\n\\n.login-logo {\\n  width: 200px;\\n  margin: 20px auto;\\n  display: block;\\n  border-radius: 5px;\\n}\\n\\nion-item {\\n  margin-bottom: 10px;\\n  --border-radius: 10px;\\n}\\n\\nion-input {\\n  --padding-start: 10px;\\n}\\n\\n.forgot-button {\\n  --border-radius: 10px;\\n  text-decoration: none;\\n}\\n\\n@media (min-width: 768px) {\\n  .login-card {\\n    width: 50%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLDJDQUFBO0VBQ0Esc0JBQUE7RUFDQSwyQkFBQTtBQUNGOztBQUVBO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsMENBQUE7RUFDQSwyQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0EscUJBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRTtJQUNFLFVBQUE7RUFDRjtBQUNGIiwiZmlsZSI6ImxvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiL2Fzc2V0cy9pbWcvYjEuanBnXCIpO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG59XHJcblxyXG4ubG9naW4tY2FyZCB7XHJcbiAgd2lkdGg6IDkwJTtcclxuICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcclxuICBib3gtc2hhZG93OiAwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5sb2dpbi1sb2dvIHtcclxuICB3aWR0aDogMjAwcHg7XHJcbiAgbWFyZ2luOiAyMHB4IGF1dG87XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG5pb24taXRlbSB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAtLWJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuXHJcbmlvbi1pbnB1dCB7XHJcbiAgLS1wYWRkaW5nLXN0YXJ0OiAxMHB4O1xyXG59XHJcblxyXG4uZm9yZ290LWJ1dHRvbiB7XHJcbiAgLS1ib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XHJcbiAgLmxvZ2luLWNhcmQge1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICB9XHJcbn1cclxuIl19 */\";","export default \"<ion-content>\\n  <div class=\\\"container\\\">\\n    <ion-card class=\\\"login-card\\\">\\n      <img src=\\\"assets/img/logo0.png\\\" alt=\\\"Logo\\\" class=\\\"login-logo\\\" />\\n      <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n        <ion-item>\\n          <ion-icon slot=\\\"start\\\" name=\\\"person-outline\\\"></ion-icon>\\n          <ion-input\\n            type=\\\"text\\\"\\n            placeholder=\\\"Usuario\\\"\\n            formControlName=\\\"username\\\"\\n            (keyup.enter)=\\\"onSubmit()\\\"\\n          ></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-icon slot=\\\"start\\\" name=\\\"lock-closed-outline\\\"></ion-icon>\\n          <ion-input\\n            [type]=\\\"passwordInputType\\\"\\n            placeholder=\\\"Contraseña\\\"\\n            formControlName=\\\"password\\\"\\n            (keyup.enter)=\\\"onSubmit()\\\"\\n          ></ion-input>\\n          <ion-button\\n            icon-only\\n            fill=\\\"clear\\\"\\n            color=\\\"dark\\\"\\n            (click)=\\\"showPassword()\\\"\\n          >\\n            <ion-icon name=\\\"{{ showPasswordIcon }}\\\"></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n        <ion-row class=\\\"ion-margin-top\\\">\\n          <ion-col>\\n            <ion-button\\n              color=\\\"primary\\\"\\n              expand=\\\"block\\\"\\n              class=\\\"login-button animate__animated animate__lightSpeedInLeft\\\"\\n              (click)=\\\"onSubmit()\\\"\\n              >Ingresar</ion-button\\n            >\\n          </ion-col>\\n          <ion-col>\\n            <ion-button\\n              routerLink=\\\"/register\\\"\\n              color=\\\"dark\\\"\\n              expand=\\\"block\\\"\\n              class=\\\"register-button animate__animated animate__lightSpeedInRight\\\"\\n              >Registrarse</ion-button\\n            >\\n          </ion-col>\\n        </ion-row>\\n      </form>\\n      <ion-row class=\\\"ion-margin-top\\\">\\n        <ion-col>\\n          <a (click)=\\\"forgotPassword()\\\" class=\\\"forgot-button\\\"\\n            >¿Olvidó su contraseña?</a\\n          >\\n        </ion-col>\\n      </ion-row>\\n    </ion-card>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}